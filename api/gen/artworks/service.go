// Code generated by goa v3.3.1, DO NOT EDIT.
//
// artworks service
//
// Command:
// $ goa gen github.com/pastelnetwork/walletnode/api/design

package artworks

import (
	"context"

	artworksviews "github.com/pastelnetwork/walletnode/api/gen/artworks/views"
	goa "goa.design/goa/v3/pkg"
)

// Pastel Artwork
type Service interface {
	// Runs a new registration process for the new artwork.
	Register(context.Context, *RegisterPayload) (res *RegisterResult, err error)
	// Streams statuses of the artwork registration.
	RegisterStatus(context.Context, *RegisterStatusPayload, RegisterStatusServerStream) (err error)
	// Upload the image that is used when registering a new artwork.
	UploadImage(context.Context, *UploadImagePayload) (res *Image, err error)
}

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "artworks"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [3]string{"register", "registerStatus", "uploadImage"}

// RegisterStatusServerStream is the interface a "registerStatus" endpoint
// server stream must satisfy.
type RegisterStatusServerStream interface {
	// Send streams instances of "Job".
	Send(*Job) error
	// Close closes the stream.
	Close() error
}

// RegisterStatusClientStream is the interface a "registerStatus" endpoint
// client stream must satisfy.
type RegisterStatusClientStream interface {
	// Recv reads instances of "Job" from the stream.
	Recv() (*Job, error)
}

// RegisterPayload is the payload type of the artworks service register method.
type RegisterPayload struct {
	// Name of the artwork
	Name string
	// Description of the artwork
	Description *string
	// Keywords
	Keywords *string
	// Series name
	SeriesName *string
	// Number of copies issued
	IssuedCopies int
	// Uploaded image ID
	ImageID string
	// Artwork creation video youtube URL
	YoutubeURL *string
	// Artist's PastelID
	ArtistPastelID string
	// Name of the artist
	ArtistName string
	// Artist website URL
	ArtistWebsiteURL *string
	// Spendable address
	SpendableAddress string
	NetworkFee       float32
}

// RegisterResult is the result type of the artworks service register method.
type RegisterResult struct {
	// Job ID of the registration process
	JobID int
}

// RegisterStatusPayload is the payload type of the artworks service
// registerStatus method.
type RegisterStatusPayload struct {
	// Job ID of the registration process
	JobID int
}

// Job is the result type of the artworks service registerStatus method.
type Job struct {
	// JOb ID of the registration process
	ID int
	// Status of the registration process
	Status string
	// txid
	Txid *string
}

// UploadImagePayload is the payload type of the artworks service uploadImage
// method.
type UploadImagePayload struct {
	// File to upload
	Bytes []byte
}

// Image is the result type of the artworks service uploadImage method.
type Image struct {
	// Uploaded image ID
	ImageID string
	// Image expiration
	ExpiresIn string
}

// MakeBadRequest builds a goa.ServiceError from an error.
func MakeBadRequest(err error) *goa.ServiceError {
	return &goa.ServiceError{
		Name:    "BadRequest",
		ID:      goa.NewErrorID(),
		Message: err.Error(),
	}
}

// MakeNotFound builds a goa.ServiceError from an error.
func MakeNotFound(err error) *goa.ServiceError {
	return &goa.ServiceError{
		Name:    "NotFound",
		ID:      goa.NewErrorID(),
		Message: err.Error(),
	}
}

// MakeInternalServerError builds a goa.ServiceError from an error.
func MakeInternalServerError(err error) *goa.ServiceError {
	return &goa.ServiceError{
		Name:    "InternalServerError",
		ID:      goa.NewErrorID(),
		Message: err.Error(),
	}
}

// NewRegisterResult initializes result type RegisterResult from viewed result
// type RegisterResult.
func NewRegisterResult(vres *artworksviews.RegisterResult) *RegisterResult {
	return newRegisterResult(vres.Projected)
}

// NewViewedRegisterResult initializes viewed result type RegisterResult from
// result type RegisterResult using the given view.
func NewViewedRegisterResult(res *RegisterResult, view string) *artworksviews.RegisterResult {
	p := newRegisterResultView(res)
	return &artworksviews.RegisterResult{Projected: p, View: "default"}
}

// NewJob initializes result type Job from viewed result type Job.
func NewJob(vres *artworksviews.Job) *Job {
	return newJob(vres.Projected)
}

// NewViewedJob initializes viewed result type Job from result type Job using
// the given view.
func NewViewedJob(res *Job, view string) *artworksviews.Job {
	p := newJobView(res)
	return &artworksviews.Job{Projected: p, View: "default"}
}

// NewImage initializes result type Image from viewed result type Image.
func NewImage(vres *artworksviews.Image) *Image {
	return newImage(vres.Projected)
}

// NewViewedImage initializes viewed result type Image from result type Image
// using the given view.
func NewViewedImage(res *Image, view string) *artworksviews.Image {
	p := newImageView(res)
	return &artworksviews.Image{Projected: p, View: "default"}
}

// newRegisterResult converts projected type RegisterResult to service type
// RegisterResult.
func newRegisterResult(vres *artworksviews.RegisterResultView) *RegisterResult {
	res := &RegisterResult{}
	if vres.JobID != nil {
		res.JobID = *vres.JobID
	}
	return res
}

// newRegisterResultView projects result type RegisterResult to projected type
// RegisterResultView using the "default" view.
func newRegisterResultView(res *RegisterResult) *artworksviews.RegisterResultView {
	vres := &artworksviews.RegisterResultView{
		JobID: &res.JobID,
	}
	return vres
}

// newJob converts projected type Job to service type Job.
func newJob(vres *artworksviews.JobView) *Job {
	res := &Job{
		Txid: vres.Txid,
	}
	if vres.ID != nil {
		res.ID = *vres.ID
	}
	if vres.Status != nil {
		res.Status = *vres.Status
	}
	return res
}

// newJobView projects result type Job to projected type JobView using the
// "default" view.
func newJobView(res *Job) *artworksviews.JobView {
	vres := &artworksviews.JobView{
		ID:     &res.ID,
		Status: &res.Status,
		Txid:   res.Txid,
	}
	return vres
}

// newImage converts projected type Image to service type Image.
func newImage(vres *artworksviews.ImageView) *Image {
	res := &Image{}
	if vres.ImageID != nil {
		res.ImageID = *vres.ImageID
	}
	if vres.ExpiresIn != nil {
		res.ExpiresIn = *vres.ExpiresIn
	}
	return res
}

// newImageView projects result type Image to projected type ImageView using
// the "default" view.
func newImageView(res *Image) *artworksviews.ImageView {
	vres := &artworksviews.ImageView{
		ImageID:   &res.ImageID,
		ExpiresIn: &res.ExpiresIn,
	}
	return vres
}
